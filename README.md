## 项目简介

守护精灵 (Guardian Elf) 是一款基于 STM32 微控制器的多传感器数据采集与显示系统，能够实时监测环境参数、运动状态及定位信息，并通过 OLED 屏幕进行可视化展示，同时通过 esp32 将数据发送至服务器，适用于物联网监测、运动分析等场景。
## 关键特性

- 多页面 OLED 显示系统，支持垂直滑动、水平滑动、渐变、雪花屏等页面切换动画
- 环境监测：光照强度（BH1750）、温湿度（AHT20）、气压（BMP280）等参数采集
- 运动状态监测：MPU6050 加速度（X/Y/Z 轴，单位 g）、角速度（X/Y/Z 轴，单位 °/s）数据采集与展示
- 定位信息显示：DX-PI10-A 模块提供的经度、纬度、海拔、速度、卫星数量（GPS / 北斗）等地理信息
- 可移植：工具函数和驱动函数高度封装，I2C、USART 等接口统一，便于移植到其他平台

## 硬件要求

- STM32F103C8T6: 主控制器
- ESP-WROOM-32: 无线数据传输模块
- OLED 屏幕：SSD1306 驱动，0.96 寸，128x64 分辨率，IIC 通信128x64, IIC通信
- BH1750: 光照传感器，IIC 通信（单位 lux）
- AHT20: 温湿度传感器，I2C 通信（温度单位 °C，湿度单位 %）
- BMP280: 气压传感器，I2C 通信（单位 hPa）
- MPU6050: 运动传感器，加速度计、陀螺仪（X/Y/Z 轴数据）, I2C 通信 X/Y/Z 轴数据）, I2C通信
- DX-PI10-A: 定位模块，GPS / 北斗双模（经纬度、海拔、速度等）, 串口通信模块（提供经纬度、海拔、速度等信息）, 串口通信
- W25Q64: 存储模块，16M 容量，SPI 通信


## 开发环境

- IDE: Clion 2024.1.6
- 项目生成: STM32CubeMX v6.5+
- 项目管理: CMake
- 工具库：STM32F1 HAL Library
- 调试器: openOCD

## 项目结构（关键文件夹）

```plaintext
guardian-elf/
├── Application/           # 应用层代码
│   ├── Src/
│   │   └── OLED_Service.c # OLED页面服务
├── Utils/                 # 工具模块: 实现对单片机内部功能的封装
│   ├── Src/
│   │   └── I2C.c          # I2C通信实现
│   └── Inc/
│       ├── I2C.h          # I2C接口定义
│       └── USART.h        # 串口通信接口
├── Libs/                  # 外设库: 实现对外设模块的封装
│   ├── OLCD/              # OLED显示库
│   │   ├── OLED.c         # OLED基础驱动
│   │   └── OLED_Menu.c    # OLED菜单控制
│   ├── BH1750/            # 光照传感器库
│   └── AHT20/             # 温湿度传感器库
└─── Core/                  # 核心代码
    ├── Src/               # 主程序及系统初始化
    └── Inc/               # 核心头文件

```

## 尾声

项目中封装的工具函数可以直接使用，如果帮到你，就请给个 star 吧！